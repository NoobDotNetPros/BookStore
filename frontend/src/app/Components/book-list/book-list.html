<div class="book-list-container">
    <div class="header-section">
        <h2 class="page-title">Books <span class="item-count">({{ books().length }} items)</span></h2>
        <select class="sort-dropdown">
            <option *ngFor="let option of sortOptions()">{{ option }}</option>
        </select>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading()" class="loading-state">
        <p>Loading books...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="errorMessage()" class="error-state">
        <p>{{ errorMessage() }}</p>
    </div>

    <!-- Books Grid -->
    <div class="books-grid" *ngIf="!loading() && !errorMessage()">
        <div class="book-card" *ngFor="let book of books(); trackBy: trackByBookId" (click)="openDetails(book.id)">
            <div class="book-image">
                <img [src]="book.image" [alt]="book.title">
                <span *ngIf="book.isOutOfStock" class="out-of-stock-badge">Out of Stock</span>
            </div>
            <div class="book-info">
                <h3 class="book-title">{{ book.title }}</h3>
                <p class="book-author">{{ book.author }}</p>
                <div class="rating">
                    <span class="stars">{{ book.rating }} â˜…</span>
                    <span class="reviews">({{ book.reviewsCount }})</span>
                </div>
                <div class="price-section">
                    <span class="current-price">Rs. {{ formatPrice(book.price) }}</span>
                    <span class="original-price">Rs. {{ formatPrice(book.originalPrice) }}</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading() && !errorMessage() && books().length === 0" class="empty-state">
        <p>No books available at the moment.</p>
    </div>
</div>
